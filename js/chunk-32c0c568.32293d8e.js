(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32c0c568"],{"08e7":function(e,t,c){"use strict";c.r(t);var o=c("7a23"),a=c("4b89"),n=c.n(a),r=c("d8e7"),l=c.n(r),i={class:"mt-navbar-lg"},s={class:"container"},d={class:"row"},g={class:"col-12 col-lg-3"},u={class:"select-wrap d-block d-lg-none w-100 color--white mb-4"},p=Object(o["createElementVNode"])("option",{value:"請選擇",disabled:""},"請選擇",-1),m=["value"],b={class:"category-list d-none d-lg-block"},O=Object(o["createElementVNode"])("div",{class:"category-title"},[Object(o["createElementVNode"])("img",{src:n.a,class:"dec-top",alt:"光芒"}),Object(o["createElementVNode"])("h5",{class:"title"},"分類"),Object(o["createElementVNode"])("img",{src:n.a,class:"dec-bottom",alt:"光芒"})],-1),j=Object(o["createElementVNode"])("img",{src:l.a,class:"me-2 star",alt:"星星"},null,-1),v=Object(o["createTextVNode"])(" 全部 "),h=["onClick"],f=Object(o["createElementVNode"])("img",{src:l.a,class:"me-2 star",alt:"星星"},null,-1),k={class:"col-12 col-lg-9"},w={class:"row row-cols-2 row-cols-md-3 row-cols-lg-4"},E={class:"page-wrap cus-mt-sm cus-mb-lg"};function y(e,t,c,a,n,r){var l=Object(o["resolveComponent"])("loading"),y=Object(o["resolveComponent"])("router-link"),V=Object(o["resolveComponent"])("product"),N=Object(o["resolveComponent"])("pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(l,{active:n.isLoading},null,8,["active"]),Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",u,[Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{class:"cus-select color--white","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.selected=e})},[p,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(this.category,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e,value:e},Object(o["toDisplayString"])(e),9,m)})),128))],512),[[o["vModelSelect"],n.selected]])]),Object(o["createElementVNode"])("div",b,[O,Object(o["createElementVNode"])("div",{class:"category-item",onClick:t[1]||(t[1]=function(){return r.getCategoryAll&&r.getCategoryAll.apply(r,arguments)})},[Object(o["createVNode"])(y,{to:"/products/all"},{default:Object(o["withCtx"])((function(){return[j,v]})),_:1})]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(this.category,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"category-item",key:e,onClick:function(t){return r.getCategoryItems(e)}},[Object(o["createVNode"])(y,{to:"/products/".concat(e)},{default:Object(o["withCtx"])((function(){return[f,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e),1)]})),_:2},1032,["to"])],8,h)})),128))])]),Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",w,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.products,(function(e){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"col mb-4",key:e.id},[Object(o["createVNode"])(V,{productItem:e,onToggleFavorite:r.toggleFavorite,favorite:n.favorite},null,8,["productItem","onToggleFavorite","favorite"])])),[[o["vShow"],!n.categoryProducts.length]])})),128)),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.categoryProducts,(function(e){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"col mb-4",key:e.id},[Object(o["createVNode"])(V,{productItem:e,onToggleFavorite:r.toggleFavorite,favorite:n.favorite},null,8,["productItem","onToggleFavorite","favorite"])])),[[o["vShow"],n.categoryProducts.length]])})),128))]),Object(o["createElementVNode"])("div",E,[Object(o["createVNode"])(N,{pages:n.pagination,onGetProduct:r.getProduct},null,8,["pages","onGetProduct"])])])])])])],64)}c("c740"),c("a434"),c("e9c4"),c("99af"),c("d3b7"),c("159b"),c("caad"),c("2532");var V=c("e915"),N=c("1799"),B={components:{product:V["a"],pagination:N["a"]},data:function(){return{isLoading:!0,products:[],cart:{},category:[],categoryProducts:[],selected:"請選擇",pagination:{},favorite:JSON.parse(window.localStorage.getItem("toggle-favorite"))||[]}},watch:{selected:function(){this.getCategoryItems()}},methods:{toggleFavorite:function(e){var t=this.favorite.findIndex((function(t){return t===e}));-1===t?this.favorite.push(e):this.favorite.splice(t,1),window.localStorage.setItem("toggle-favorite",JSON.stringify(this.favorite))},getProduct:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/products/?page=").concat(t)).then((function(t){e.products=t.data.products,e.pagination=t.data.pagination,e.products.forEach((function(t){if(!e.category.includes(t.category))return e.category.push(t.category)}))}))},getCategoryAll:function(){this.categoryProducts=this.products},getCategoryItems:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selected;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/products/?category=").concat(t)).then((function(t){e.categoryProducts=t.data.products}))}},mounted:function(){this.getProduct(),this.isLoading=!1,this.getCategoryItems(this.$route.params.id)}},C=c("d959"),x=c.n(C);const L=x()(B,[["render",y]]);t["default"]=L},1799:function(e,t,c){"use strict";var o=c("7a23"),a={class:"page"},n={key:0,class:"page-item"},r=Object(o["createElementVNode"])("svg",{width:"20",height:"7",viewBox:"0 0 20 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(o["createElementVNode"])("path",{d:"M0.375 5.64416L5.75 0.235352L6.625 1.11585L2.125 5.64416H20V6.90202H0.875L0 6.02151L0.375 5.64416Z",fill:"#897B62"})],-1),l=[r],i=["onClick"],s={class:"page-item"},d=Object(o["createElementVNode"])("svg",{width:"20",height:"7",viewBox:"0 0 20 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(o["createElementVNode"])("path",{d:"M19.625 5.64416L14.25 0.235352L13.375 1.11585L17.875 5.64416H0V6.90202H19.125L20 6.02151L19.625 5.64416Z",fill:"#897B62"})],-1),g=[d];function u(e,t,c,r,d,u){return Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",a,[c.pages.total_pages>=5?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",n,[Object(o["createElementVNode"])("span",{class:"prev",onClick:t[0]||(t[0]=function(){return u.prevPage&&u.prevPage.apply(u,arguments)})},l)])):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(c.pages.total_pages,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:Object(o["normalizeClass"])([{active:t===c.pages.current_page},"page-item"]),key:t,onClick:function(c){return e.$emit("get-product",t)}},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(t),1)],10,i)})),128)),Object(o["createElementVNode"])("li",s,[Object(o["createElementVNode"])("span",{class:"next",onClick:t[1]||(t[1]=function(){return u.nextPage&&u.nextPage.apply(u,arguments)})},g)])])}var p={props:["pages"],methods:{nextPage:function(){if(this.pages.has_next){var e=this.pages.current_page+1;this.$emit("get-product",e)}},prevPage:function(){if(this.pages.has_pre){var e=this.pages.current_page-1;this.$emit("get-product",e)}}}},m=c("d959"),b=c.n(m);const O=b()(p,[["render",u]]);t["a"]=O},"4b89":function(e,t,c){e.exports=c.p+"img/shine.e954f01a.svg"},d8e7:function(e,t,c){e.exports=c.p+"img/star.f72f3a00.svg"}}]);
//# sourceMappingURL=chunk-32c0c568.32293d8e.js.map