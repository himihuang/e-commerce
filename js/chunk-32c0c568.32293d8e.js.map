{"version":3,"sources":["webpack:///./src/views/frontend/ProductList.vue","webpack:///./src/views/frontend/ProductList.vue?6c75","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?17f2","webpack:///./src/assets/img/shine.svg","webpack:///./src/assets/img/star.svg"],"names":["class","_createElementVNode","value","disabled","src","_imports_0","alt","_imports_1","_createVNode","_component_loading","active","$data","$event","_hoisted_6","_createElementBlock","_Fragment","_renderList","category","item","key","_hoisted_7","_hoisted_9","onClick","$options","_component_router_link","to","_hoisted_10","_hoisted_13","_toDisplayString","product","id","_component_product","productItem","onToggleFavorite","favorite","length","_component_pagination","pages","onGetProduct","components","pagination","data","isLoading","products","cart","categoryProducts","selected","JSON","parse","window","localStorage","getItem","watch","this","getCategoryItems","methods","toggleFavorite","favoriteId","findIndex","element","push","splice","setItem","stringify","getProduct","page","$http","get","process","then","res","forEach","includes","getCategoryAll","mounted","$route","params","__exports__","render","width","height","viewBox","fill","xmlns","d","_hoisted_3","$props","total_pages","current_page","_ctx","props","nextPage","has_next","$emit","prevPage","has_pre","module","exports"],"mappings":"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","file":"js/chunk-32c0c568.32293d8e.js","sourcesContent":["<template>\n  <loading :active=\"isLoading\"></loading>\n\n  <div class=\"mt-navbar-lg\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-12 col-lg-3\">\n          <div class=\"select-wrap d-block d-lg-none w-100 color--white mb-4\">\n            <select class=\"cus-select color--white\" v-model=\"selected\">\n              <option value=\"請選擇\" disabled>請選擇</option>\n              <option v-for=\"item in this.category\" :key=\"item\" :value=\"item\">\n                {{ item }}\n              </option>\n            </select>\n          </div>\n          <div class=\"category-list d-none d-lg-block\">\n            <div class=\"category-title\">\n              <img src=\"~@/assets/img/shine.svg\" class=\"dec-top\" alt=\"光芒\" />\n              <h5 class=\"title\">分類</h5>\n              <img\n                src=\"~@/assets/img/shine.svg\"\n                class=\"dec-bottom\"\n                alt=\"光芒\"\n              />\n            </div>\n\n            <div class=\"category-item\" @click=\"getCategoryAll\">\n              <router-link to=\"/products/all\">\n                <img\n                  src=\"~@/assets/img/star.svg\"\n                  class=\"me-2 star\"\n                  alt=\"星星\"\n                />\n                全部\n              </router-link>\n            </div>\n            <div\n              class=\"category-item\"\n              v-for=\"item in this.category\"\n              :key=\"item\"\n              @click=\"getCategoryItems(item)\"\n            >\n              <router-link :to=\"`/products/${item}`\">\n                <img\n                  src=\"~@/assets/img/star.svg\"\n                  class=\"me-2 star\"\n                  alt=\"星星\"\n                />\n                {{ item }}</router-link\n              >\n            </div>\n          </div>\n        </div>\n        <div class=\"col-12 col-lg-9\">\n          <div class=\"row row-cols-2 row-cols-md-3 row-cols-lg-4\">\n            <div\n              class=\"col mb-4\"\n              v-for=\"product in products\"\n              :key=\"product.id\"\n              v-show=\"!categoryProducts.length\"\n            >\n              <product\n                :productItem=\"product\"\n                @toggle-favorite=\"toggleFavorite\"\n                :favorite=\"favorite\"\n              ></product>\n            </div>\n            <div\n              class=\"col mb-4\"\n              v-for=\"product in categoryProducts\"\n              :key=\"product.id\"\n              v-show=\"categoryProducts.length\"\n            >\n              <product\n                :productItem=\"product\"\n                @toggle-favorite=\"toggleFavorite\"\n                :favorite=\"favorite\"\n              ></product>\n            </div>\n          </div>\n          <div class=\"page-wrap cus-mt-sm cus-mb-lg\">\n            <pagination\n              :pages=\"pagination\"\n              @get-product=\"getProduct\"\n            ></pagination>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport product from \"@/components/ProductCard.vue\";\nimport pagination from \"@/components/Pagination.vue\";\n\nexport default {\n  components: {\n    product,\n    pagination,\n  },\n  data() {\n    return {\n      isLoading: true,\n      products: [],\n      cart: {},\n      category: [],\n      categoryProducts: [],\n      selected: \"請選擇\",\n      pagination: {},\n      favorite:\n        JSON.parse(window.localStorage.getItem(\"toggle-favorite\")) || [],\n    };\n  },\n  watch: {\n    selected() {\n      this.getCategoryItems();\n    },\n  },\n\n  methods: {\n    toggleFavorite(item) {\n      const favoriteId = this.favorite.findIndex((element) => element === item);\n      if (favoriteId === -1) {\n        this.favorite.push(item);\n      } else {\n        this.favorite.splice(favoriteId, 1);\n      }\n      window.localStorage.setItem(\n        \"toggle-favorite\",\n        JSON.stringify(this.favorite)\n      );\n    },\n    getProduct(page = 1) {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/products/?page=${page}`\n        )\n        .then((res) => {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n\n          this.products.forEach((item) => {\n            if (!this.category.includes(item.category)) {\n              return this.category.push(item.category);\n            }\n          });\n        });\n    },\n    getCategoryAll() {\n      this.categoryProducts = this.products;\n    },\n    getCategoryItems(category = this.selected) {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/products/?category=${category}`\n        )\n        .then((res) => {\n          this.categoryProducts = res.data.products;\n        });\n    },\n  },\n  mounted() {\n    this.getProduct();\n    this.isLoading = false;\n    this.getCategoryItems(this.$route.params.id);\n  },\n};\n</script>\n\n<style lang=\"sass\">\n\n</style>\n","import { render } from \"./ProductList.vue?vue&type=template&id=615588da\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/himi/Desktop/練習資料夾/vue/e-commerce/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <ul class=\"page\">\n    <li class=\"page-item\" v-if=\"pages.total_pages >= 5\">\n      <span class=\"prev\" @click=\"prevPage\">\n        <svg\n          width=\"20\"\n          height=\"7\"\n          viewBox=\"0 0 20 7\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M0.375 5.64416L5.75 0.235352L6.625 1.11585L2.125 5.64416H20V6.90202H0.875L0 6.02151L0.375 5.64416Z\"\n            fill=\"#897B62\"\n          />\n        </svg>\n      </span>\n    </li>\n    <li\n      :class=\"{ active: page === pages.current_page }\"\n      class=\"page-item\"\n      v-for=\"page in pages.total_pages\"\n      :key=\"page\"\n      @click=\"$emit('get-product', page)\"\n    >\n      <span>{{ page }}</span>\n    </li>\n    <li class=\"page-item\">\n      <span class=\"next\" @click=\"nextPage\">\n        <svg\n          width=\"20\"\n          height=\"7\"\n          viewBox=\"0 0 20 7\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M19.625 5.64416L14.25 0.235352L13.375 1.11585L17.875 5.64416H0V6.90202H19.125L20 6.02151L19.625 5.64416Z\"\n            fill=\"#897B62\"\n          />\n        </svg>\n      </span>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  props: [\"pages\"],\n  methods: {\n    nextPage() {\n      if (this.pages.has_next) {\n        const page = this.pages.current_page + 1;\n        this.$emit(\"get-product\", page);\n      }\n    },\n    prevPage() {\n      if (this.pages.has_pre) {\n        const page = this.pages.current_page - 1;\n        this.$emit(\"get-product\", page);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"sass\">\n\n</style>\n","import { render } from \"./Pagination.vue?vue&type=template&id=51bb1452\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/himi/Desktop/練習資料夾/vue/e-commerce/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/shine.e954f01a.svg\";","module.exports = __webpack_public_path__ + \"img/star.f72f3a00.svg\";"],"sourceRoot":""}