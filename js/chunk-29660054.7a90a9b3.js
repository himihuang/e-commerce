(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29660054"],{"168c":function(e,t,c){"use strict";c.r(t);var l=c("7a23"),o={class:"container"},n={class:"cus-mt-lg cus-mb-lg"},a=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{width:"30%"},"訂單號碼"),Object(l["createElementVNode"])("th",{width:"25%"},"購買時間"),Object(l["createElementVNode"])("th",{width:"10%"},"金額"),Object(l["createElementVNode"])("th",{width:"20%"},"是否付款"),Object(l["createElementVNode"])("th",{width:"15%"},"編輯")])],-1),d={width:"30%"},r={width:"25%"},i={width:"10%"},s={width:"20%"},b={class:"switch"},m=["onUpdate:modelValue","onChange"],u=Object(l["createElementVNode"])("span",{class:"controler"},null,-1),O={width:"15%"},p=["onClick"],j=Object(l["createElementVNode"])("i",{class:"bi bi-pencil"},null,-1),h=[j],E=["onClick"],V=Object(l["createElementVNode"])("i",{class:"bi bi-trash3"},null,-1),N=[V];function v(e,t,c,j,V,v){var f=Object(l["resolveComponent"])("orderModal");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createVNode"])(f,{ref:"modal",order:V.order,onUpdateOrder:v.getOrders},null,8,["order","onUpdateOrder"]),Object(l["createElementVNode"])("div",o,[Object(l["createElementVNode"])("div",n,[Object(l["createElementVNode"])("table",null,[a,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(V.orders,(function(e){return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:e.id},[Object(l["createElementVNode"])("td",d,[Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(e.id),1)]),Object(l["createElementVNode"])("td",r,[Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(new Date(1e3*e.create_at)),1)]),Object(l["createElementVNode"])("td",i,[Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(e.total),1)]),Object(l["createElementVNode"])("td",s,[Object(l["createElementVNode"])("label",b,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":function(t){return e.is_paid=t},onChange:function(t){return v.changePaid(e)}},null,40,m),[[l["vModelCheckbox"],e.is_paid]]),u])]),Object(l["createElementVNode"])("td",O,[Object(l["createElementVNode"])("button",{type:"button",class:"btn-icon btn-edit me-3",onClick:function(t){return v.openModal(e)}},h,8,p),Object(l["createElementVNode"])("button",{type:"button",class:"btn-icon btn-delete",onClick:function(t){return v.deleteOrder(e)}},N,8,E)])])})),128))])])])])])}c("99af"),c("b0c0");var f={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},g={class:"modal-dialog modal-xl",role:"document"},w={class:"modal-content border-0"},y=Object(l["createElementVNode"])("div",{class:"modal-header"},[Object(l["createElementVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(l["createElementVNode"])("span",null,"訂單細節")]),Object(l["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),k={class:"modal-body"},S={class:"row"},D={class:"col-sm-12"},x=Object(l["createElementVNode"])("h4",{class:"mb-3"},"訂單編號",-1),M={class:"row gx-2"},B={class:"col-md-6"},C=Object(l["createElementVNode"])("h6",null,"訂單編號",-1),_={class:"col-md-6"},$=Object(l["createElementVNode"])("h6",null,"下單時間",-1),U={class:"col-md-6"},L=Object(l["createElementVNode"])("h6",null,"付款狀態",-1),F={class:"me-4"},J={class:"switch"},P=Object(l["createElementVNode"])("span",{class:"controler"},null,-1),I={class:"col-md-6"},T=Object(l["createElementVNode"])("h6",null,"總金額",-1),X=Object(l["createStaticVNode"])('<hr><h4 class="mb-3">購買商品</h4><div class="row gx-2"><div class="col-md-4"><h5 class="mb-3">商品名稱</h5></div><div class="col-md-4"><h5>單位</h5></div><div class="col-md-4"><h5>價錢</h5></div></div>',3),q={class:"col-md-4"},z={class:"col-md-4"},A={class:"col-md-4"},G=Object(l["createElementVNode"])("hr",null,null,-1),H=Object(l["createElementVNode"])("h4",{class:"mb-3"},"用戶資料",-1),K={class:"row gx-2"},Q={class:"col-md-6"},R=Object(l["createElementVNode"])("label",{for:"description",class:"form-label"},"姓名",-1),W={class:"col-md-6"},Y=Object(l["createElementVNode"])("label",{for:"description",class:"form-label"},"信箱",-1),Z={class:"col-md-6"},ee=Object(l["createElementVNode"])("label",{for:"description",class:"form-label"},"電話",-1),te={class:"col-md-6"},ce=Object(l["createElementVNode"])("label",{for:"description",class:"form-label"},"地址",-1),le={class:"modal-footer"},oe=Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-primary--border w-30","data-bs-dismiss":"modal"},[Object(l["createElementVNode"])("span",null," 取消 ")],-1),ne=Object(l["createElementVNode"])("span",null," 確認 ",-1),ae=[ne];function de(e,t,c,o,n,a){var d,r,i,s,b,m,u,O;return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",f,[Object(l["createElementVNode"])("div",g,[Object(l["createElementVNode"])("div",w,[y,Object(l["createElementVNode"])("div",k,[Object(l["createElementVNode"])("div",S,[Object(l["createElementVNode"])("div",D,[x,Object(l["createElementVNode"])("div",M,[Object(l["createElementVNode"])("div",B,[C,Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(c.order.id),1)]),Object(l["createElementVNode"])("div",_,[$,Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(new Date(1e3*c.order.create_at)),1)]),Object(l["createElementVNode"])("div",U,[L,Object(l["createElementVNode"])("p",null,[Object(l["createElementVNode"])("span",F,Object(l["toDisplayString"])(c.order.is_paid?"已付款":"未付款"),1),Object(l["createElementVNode"])("label",J,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.order.is_paid=e})},null,512),[[l["vModelCheckbox"],c.order.is_paid]]),P])])]),Object(l["createElementVNode"])("div",I,[T,Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(c.order.total),1)])]),X,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(c.order.products,(function(e){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"row gx-2",key:e.id},[Object(l["createElementVNode"])("div",q,[Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(e.product.title),1)]),Object(l["createElementVNode"])("div",z,[Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(e.product.unit),1)]),Object(l["createElementVNode"])("div",A,[Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(e.total),1)])])})),128)),G,H,Object(l["createElementVNode"])("div",K,[Object(l["createElementVNode"])("div",Q,[R,Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(null===(d=c.order)||void 0===d||null===(r=d.user)||void 0===r?void 0:r.name),1)]),Object(l["createElementVNode"])("div",W,[Y,Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(null===(i=c.order)||void 0===i||null===(s=i.user)||void 0===s?void 0:s.email),1)]),Object(l["createElementVNode"])("div",Z,[ee,Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(null===(b=c.order)||void 0===b||null===(m=b.user)||void 0===m?void 0:m.tel),1)]),Object(l["createElementVNode"])("div",te,[ce,Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(null===(u=c.order)||void 0===u||null===(O=u.user)||void 0===O?void 0:O.address),1)])])])])]),Object(l["createElementVNode"])("div",le,[oe,Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-primary--fill w-30",onClick:t[1]||(t[1]=function(e){return a.updataOrder(c.order)})},ae)])])])],512)}var re=c("01d7"),ie={props:["order"],data:function(){return{is_paid:this.order.is_paid,modal:{}}},methods:{openModal:function(){this.modal.show()},closeModal:function(){this.modal.hide()},updataOrder:function(e){var t=this;this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/admin/order/").concat(e.id),{data:this.order}).then((function(){t.$emit("update-order"),t.closeModal()})).catch((function(e){t.$swal("".concat(e.response.data.message))}))}},mounted:function(){this.modal=new re["a"](this.$refs.modal)}},se=c("d959"),be=c.n(se);const me=be()(ie,[["render",de]]);var ue=me,Oe={components:{orderModal:ue},data:function(){return{orders:[],order:{products:[],user:{}},product:{imagesUrl:[]},isEdit:!1}},watch:{order:function(e){return e}},methods:{getOrders:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/admin/orders")).then((function(t){e.orders=t.data.orders}))},changePaid:function(e){var t=this;this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/admin/order/").concat(e.id),{data:e}).then((function(){t.getOrders()}))},openModal:function(e){this.order=e,this.$refs.modal.openModal()},deleteOrder:function(e){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/admin/order/").concat(e.id)).then((function(){t.getOrders()}))}},mounted:function(){this.getOrders()}};const pe=be()(Oe,[["render",v]]);t["default"]=pe},b0c0:function(e,t,c){var l=c("83ab"),o=c("5e77").EXISTS,n=c("e330"),a=c("9bf2").f,d=Function.prototype,r=n(d.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=n(i.exec),b="name";l&&!o&&a(d,b,{configurable:!0,get:function(){try{return s(i,r(this))[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-29660054.7a90a9b3.js.map