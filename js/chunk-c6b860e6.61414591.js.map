{"version":3,"sources":["webpack:///./src/assets/img/close.svg","webpack:///./src/views/frontend/CartStep1.vue","webpack:///./src/views/frontend/CartStep1.vue?3bf9","webpack:///./src/components/CartCard.vue?a9d6","webpack:///./src/components/ProgressBar.vue","webpack:///./src/components/ProgressBar.vue?afee","webpack:///./src/components/CartCard.vue","webpack:///./src/components/CartCard.vue?7207","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["module","exports","class","_createElementVNode","_createVNode","_component_loading","active","$data","_component_ProgressBar","step","_hoisted_6","_component_cart","carts-items","onUpdateQty","$options","onUpdateItem","_hoisted_8","_createElementBlock","_Fragment","_renderList","product","key","id","_component_product","product-item","onToggleFavorite","favorite","_component_router_link","to","_hoisted_11","_hoisted_13","_hoisted_17","_toDisplayString","_hoisted_20","_hoisted_24","_hoisted_27","components","cart","ProgressBar","data","isLoading","products","total","cartNum","carts","JSON","parse","window","localStorage","getItem","methods","toggleFavorite","item","favoriteId","this","findIndex","element","push","splice","setItem","stringify","getProduct","$http","get","process","then","res","slice","getCart","forEach","qty","final_total","mounted","setTimeout","__exports__","render","width","height","viewBox","fill","xmlns","$props","d","props","src","_imports_0","alt","idx","imageUrl","title","origin_price","price","name","$event","onChange","num","value","type","onClick","emits","cartsItems","delCartItem","delete","$emit","emitter","emit","updateCart","product_id","put","on","$","global","isArray","isConstructor","isObject","toAbsoluteIndex","lengthOfArrayLike","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","un$Slice","HAS_SPECIES_SUPPORT","SPECIES","Array","max","Math","target","proto","forced","start","end","Constructor","result","n","O","length","k","fin","undefined","constructor","prototype"],"mappings":"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","file":"js/chunk-c6b860e6.61414591.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/close.33571101.svg\";","<template>\n  <loading :active=\"isLoading\"></loading>\n\n  <div class=\"bgColor-secondary cart-spep\">\n    <div class=\"cus-pt-lg cus-pb-sm\">\n      <ProgressBar :step=\"step\"></ProgressBar>\n    </div>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-12 col-md-8\">\n          <div class=\"cart-title\">\n            <span class=\"h2\">購物車</span>\n          </div>\n          <div class=\"\">\n            <cart\n              :carts-items=\"carts\"\n              @update-qty=\"getCart\"\n              @update-item=\"getCart\"\n            ></cart>\n          </div>\n\n          <div class=\"cart-title\">\n            <span class=\"h2\">加購商品</span>\n          </div>\n          <div class=\"row row-cols-2 row-cols-lg-4\">\n            <div class=\"col mb-4\" v-for=\"product in products\" :key=\"product.id\">\n              <product\n                :product-item=\"product\"\n                @toggle-favorite=\"toggleFavorite\"\n                :favorite=\"favorite\"\n              ></product>\n            </div>\n          </div>\n\n          <div\n            class=\"btn-wrap d-mb-flex d-none justify-content-end cus-mb-lg cus-mt-sm\"\n          >\n            <router-link to=\"/Carts/step2\" class=\"btn btn-primary--fill w-30\">\n              <span> 確認送出 </span>\n            </router-link>\n          </div>\n        </div>\n        <div class=\"col-12 col-sm-6 col-md-4\">\n          <div class=\"cart-title\">\n            <span class=\"h2\">訂單資訊</span>\n          </div>\n\n          <div class=\"cart-info\">\n            <div class=\"info-wrap\">\n              <div class=\"info-item\">\n                <span class=\"h5\">數量</span>\n                <span class=\"h5\">{{ cartNum }}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"h5\">小計</span>\n                <span class=\"h5\">{{ total }}</span>\n              </div>\n            </div>\n            <div class=\"total-wrap\">\n              <div class=\"info-item\">\n                <span class=\"h5\">總計</span>\n                <span class=\"h5\">{{ total }}</span>\n              </div>\n            </div>\n          </div>\n\n          <div\n            class=\"btn-wrap d-flex justify-content-end cus-mb-lg cus-mt-sm d-mb-none\"\n          >\n            <router-link to=\"/Carts/step2\" class=\"btn btn-primary--fill w-30\">\n              <span> 確認送出 </span>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport cart from \"@/components/CartCard.vue\";\nimport product from \"@/components/ProductCard.vue\";\nimport ProgressBar from \"@/components/ProgressBar.vue\";\nexport default {\n  components: {\n    cart,\n    product,\n    ProgressBar,\n  },\n  data() {\n    return {\n      isLoading: true,\n      products: [],\n      total: 0,\n      cartNum: 0,\n      carts: [],\n      cart: {},\n      step: 1,\n      favorite:\n        JSON.parse(window.localStorage.getItem(\"toggle-favorite\")) || [],\n    };\n  },\n  methods: {\n    toggleFavorite(item) {\n      const favoriteId = this.favorite.findIndex((element) => element === item);\n      if (favoriteId === -1) {\n        this.favorite.push(item);\n      } else {\n        this.favorite.splice(favoriteId, 1);\n      }\n      window.localStorage.setItem(\n        \"toggle-favorite\",\n        JSON.stringify(this.favorite)\n      );\n    },\n    getProduct() {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/products/all`\n        )\n        .then((res) => {\n          this.products = res.data.products.slice(0, 4);\n        });\n    },\n    getCart() {\n      this.cartNum = 0;\n      this.total = 0;\n\n      this.$http\n        .get(`${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.carts = res.data.data.carts;\n          this.carts.forEach((item) => {\n            this.cartNum += item.qty;\n            this.total += item.final_total;\n          });\n        });\n    },\n  },\n  mounted() {\n    this.getProduct();\n    this.getCart();\n    setTimeout(() => {\n      this.isLoading = false;\n    }, 1000);\n  },\n};\n</script>\n\n<style lang=\"sass\">\n</style>\n","import { render } from \"./CartStep1.vue?vue&type=template&id=37d784a0\"\nimport script from \"./CartStep1.vue?vue&type=script&lang=js\"\nexport * from \"./CartStep1.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/himi/Desktop/練習資料夾/vue/e-commerce/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CartCard.vue?vue&type=style&index=0&id=5193781a&lang=sass\"","<template>\n  <div class=\"progress-wrap\">\n    <div class=\"progress-item\">\n      <span\n        class=\"mb-0\"\n        :class=\"{ 'color--text': step === 1 || step === 2 || step === 3 }\"\n      >\n        1. 購物車\n      </span>\n      <svg\n        width=\"72\"\n        height=\"38\"\n        viewBox=\"0 0 72 38\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          :class=\"{ 'fill-text': step === 1 || step === 2 || step === 3 }\"\n          d=\"M39.1 0.100098C43.6 5.3001 46 11.7001 46.2 18.1001H0V20.1001H46.2C46 26.5001 43.6 32.7001 39.1 38.0001C48.6 27.0001 62.3 19.1001 71.9 19.1001C62.3 19.0001 48.6 11.1001 39.1 0.100098Z\"\n        />\n      </svg>\n    </div>\n    <div class=\"progress-item\">\n      <span class=\"mb-0\" :class=\"{ 'color--text': step === 2 || step === 3 }\">\n        2. 填寫資料\n      </span>\n      <svg\n        width=\"72\"\n        height=\"38\"\n        viewBox=\"0 0 72 38\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          :class=\"{ 'fill-text': step === 2 || step === 3 }\"\n          d=\"M39.1 0.100098C43.6 5.3001 46 11.7001 46.2 18.1001H0V20.1001H46.2C46 26.5001 43.6 32.7001 39.1 38.0001C48.6 27.0001 62.3 19.1001 71.9 19.1001C62.3 19.0001 48.6 11.1001 39.1 0.100098Z\"\n        />\n      </svg>\n    </div>\n    <div class=\"progress-item\">\n      <span class=\"h4 mb-0\" :class=\"{ 'color--text': step === 3 }\">\n        3. 確認訂單</span\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"step\"],\n};\n</script>\n\n<style lang=\"sass\">\n\n</style>\n","import { render } from \"./ProgressBar.vue?vue&type=template&id=21bd99dc\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/himi/Desktop/練習資料夾/vue/e-commerce/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"cart-card\" v-for=\"(item, idx) in carts\" :key=\"item.product.id\">\n    <div class=\"img-outer me-3\">\n      <div class=\"img-wrap\">\n        <img\n          :src=\"item.product.imageUrl\"\n          class=\"img-fluid\"\n          :alt=\"`商品圖片-${idx}`\"\n        />\n      </div>\n    </div>\n    <div class=\"txt-wrap me-3\">\n      <h5>{{ item.product.title }}</h5>\n      <div class=\"price-wrap mb-3\">\n        <del class=\"me-2\">NT${{ item.product.origin_price }}</del>\n        <span>NT${{ item.product.price }}</span>\n      </div>\n      <div class=\"num-select-wrap mb-3\">\n        <span class=\"me-3\">數量</span>\n        <div class=\"num-select\">\n          <select\n            name=\"\"\n            id=\"\"\n            v-model=\"item.qty\"\n            @change=\"updateCart(item.id, item.qty)\"\n          >\n            <option :value=\"num\" v-for=\"num in 20\" :key=\"num\">\n              {{ num }}\n            </option>\n          </select>\n        </div>\n      </div>\n    </div>\n    <button type=\"button\" class=\"btn delete\" @click=\"delCartItem(item.id)\">\n      <img src=\"~@/assets/img/close.svg\" alt=\"關閉\" />\n    </button>\n  </div>\n</template>\n\n<script>\nimport emitter from \"@/libs/emitter\";\n\nexport default {\n  props: [\"carts-items\"],\n  emits: [\"update-qty\", \"update-item\"],\n  data() {\n    return {\n      carts: [],\n      cart: {},\n    };\n  },\n  methods: {\n    getCart() {\n      this.$http\n        .get(`${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.carts = this.cartsItems;\n          this.carts = res.data.data.carts;\n        });\n    },\n    delCartItem(id) {\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/cart/${id}`\n        )\n        .then(() => {\n          this.getCart();\n          this.$emit(\"update-item\");\n          emitter.emit(\"delete-cart\");\n        });\n    },\n    updateCart(id, qty) {\n      this.cart = {\n        product_id: id,\n        qty: qty,\n      };\n      this.$http\n        .put(\n          `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/cart/${id}`,\n          { data: this.cart }\n        )\n        .then(() => {\n          this.$emit(\"update-qty\");\n        });\n    },\n  },\n  mounted() {\n    this.getCart();\n    emitter.on(\"get-cart\", () => {\n      this.getCart();\n    });\n    emitter.on(\"add-cart\", (data) => {\n      this.carts = data;\n      this.getCart();\n    });\n  },\n};\n</script>\n\n<style lang=\"sass\">\n\n$width: 8px\n\n$color--white: #fff\n$color-primary--text: #897B62\n$color-primary: #B8AC97\n$color-secondary: #FEFBF5\n\n.cart-card\n  display: flex\n  flex-direction: row\n  padding-top: $width*3\n  padding-bottom: $width*3\n  color: $color-primary--text\n  .img-outer\n    width: $width*12\n  .img-wrap\n    with: 100%\n    height: 0\n    padding-bottom: 115%\n    overflow: hidden\n    img\n      width: 100%\n  .txt-wrap\n    flex: 1\n  .delete\n    display: flex\n    align-items: flex-start\n    padding: 0\n</style>\n","import { render } from \"./CartCard.vue?vue&type=template&id=5193781a\"\nimport script from \"./CartCard.vue?vue&type=script&lang=js\"\nexport * from \"./CartCard.vue?vue&type=script&lang=js\"\n\nimport \"./CartCard.vue?vue&type=style&index=0&id=5193781a&lang=sass\"\n\nimport exportComponent from \"/Users/himi/Desktop/練習資料夾/vue/e-commerce/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar un$Slice = require('../internals/array-slice');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar Array = global.Array;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = lengthOfArrayLike(O);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (isConstructor(Constructor) && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return un$Slice(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}