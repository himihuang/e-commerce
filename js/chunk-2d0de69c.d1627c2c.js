(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de69c"],{8619:function(t,e,o){"use strict";o.r(e);var c=o("7a23"),r={class:"mt-navbar-lg cus-mb-lg"},n={class:"container"},a={class:"row row-cols-2 row-cols-md-3 row-cols-lg-4"},i={key:0,class:"favorite-wrap"},s={class:"favorite-txt"},d=Object(c["createElementVNode"])("h3",null,"我的最愛沒有東西",-1),l=Object(c["createTextVNode"])("快點到商品區挑選喜歡的商品吧"),u=Object(c["createElementVNode"])("span",null," 繼續購物 ",-1);function v(t,e,o,v,f,p){var g=Object(c["resolveComponent"])("loading"),b=Object(c["resolveComponent"])("product"),m=Object(c["resolveComponent"])("P"),h=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(g,{active:f.isLoading},null,8,["active"]),Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",a,[0!==f.favoriteProducts.length?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(f.favoriteProducts,(function(t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"col mb-4",key:t.id},[Object(c["createVNode"])(b,{productItem:t,onToggleFavorite:p.toggleFavorite,favorite:f.favorite},null,8,["productItem","onToggleFavorite","favorite"])])})),128)):Object(c["createCommentVNode"])("",!0)]),0==f.favoriteProducts.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",i,[Object(c["createElementVNode"])("div",s,[d,Object(c["createVNode"])(m,{class:"mb-4"},{default:Object(c["withCtx"])((function(){return[l]})),_:1}),Object(c["createVNode"])(h,{to:"/Products",class:"btn btn-primary--fill w-30 ms-2"},{default:Object(c["withCtx"])((function(){return[u]})),_:1})])])):Object(c["createCommentVNode"])("",!0)])])],64)}o("4de4"),o("d3b7"),o("99af"),o("c740"),o("a434"),o("e9c4");var f=o("e915"),p={components:{product:f["a"]},data:function(){return{isLoading:!0,products:[],pagination:{},favoriteProducts:[],favorite:JSON.parse(window.localStorage.getItem("toggle-favorite"))||[]}},watch:{favorite:{handler:function(){this.getFavoriteProducts()},deep:!0},products:function(){this.getFavoriteProducts()}},methods:{getFavoriteProducts:function(){var t=this;this.favoriteProducts=this.products.filter((function(e){return t.favorite.some((function(t){return e.id===t}))}))},getProduct:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/products/?page=").concat(e)).then((function(e){t.products=e.data.products,t.pagination=e.data.pagination}))},toggleFavorite:function(t){var e=this.favorite.findIndex((function(e){return e===t}));-1===e?this.favorite.push(t):this.favorite.splice(e,1),window.localStorage.setItem("toggle-favorite",JSON.stringify(this.favorite))}},mounted:function(){this.isLoading=!1,this.getProduct(),this.getFavoriteProducts()}},g=o("d959"),b=o.n(g);const m=b()(p,[["render",v]]);e["default"]=m}}]);
//# sourceMappingURL=chunk-2d0de69c.d1627c2c.js.map