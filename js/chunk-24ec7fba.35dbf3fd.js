(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24ec7fba"],{"1d1b":function(e,t,c){e.exports=c.p+"img/close.33571101.svg"},6160:function(e,t,c){"use strict";c("7bf8")},"6c21":function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),n={class:"bgColor-secondary"},s={class:"cus-pt-lg cus-pb-sm"},l={class:"container"},r={class:"row"},o={class:"col-12 col-md-8"},i=Object(a["createElementVNode"])("div",{class:"cart-title"},[Object(a["createElementVNode"])("span",{class:"h2"},"訂單資訊")],-1),d={class:""},m=Object(a["createElementVNode"])("div",{class:"cart-subtitle"},[Object(a["createElementVNode"])("span",{class:"h4"},"商品資訊")],-1),b={class:"img-outer me-3"},p={class:"img-wrap"},u=["src"],O={class:"txt-wrap me-3"},j={class:"price-wrap mb-3"},E={class:"me-2"},N={class:"mb-3"},V=Object(a["createElementVNode"])("span",{class:"me-3"},"數量",-1),h=Object(a["createElementVNode"])("div",{class:"cart-subtitle"},[Object(a["createElementVNode"])("span",{class:"h4"},"付款方式")],-1),v={class:"py-3 h5"},f=Object(a["createElementVNode"])("span",{class:"pe-3"},"付款方式",-1),g=Object(a["createElementVNode"])("div",{class:"cart-subtitle"},[Object(a["createElementVNode"])("span",{class:"h4"},"送貨方式")],-1),y={class:"py-3 h5"},w=Object(a["createElementVNode"])("span",{class:"pe-3"},"送貨方式",-1),C=Object(a["createElementVNode"])("div",{class:"cart-subtitle"},[Object(a["createElementVNode"])("span",{class:"h4"},"送貨地址")],-1),k={class:"py-3 h5"},S=Object(a["createElementVNode"])("span",{class:"pe-3"},"送貨地址",-1),B=Object(a["createElementVNode"])("div",{class:"cart-subtitle"},[Object(a["createElementVNode"])("span",{class:"h4"},"收件人資訊")],-1),x={class:"py-3 h5"},D=Object(a["createElementVNode"])("span",{class:"pe-3"},"收件人",-1),$={class:"py-3 h5"},q=Object(a["createElementVNode"])("span",{class:"pe-3"},"電話",-1),I={class:"py-3 h5"},L=Object(a["createElementVNode"])("span",{class:"pe-3"},"信箱",-1),T={class:"btn-wrap d-none d-mb-flex justify-content-end cus-mb-lg cus-mt-sm"},z=Object(a["createElementVNode"])("span",null," 確認送出 ",-1),F=[z],H={class:"col-12 col-md-4"},U=Object(a["createElementVNode"])("div",{class:"cart-title"},[Object(a["createElementVNode"])("span",{class:"h2"},"訂單資訊")],-1),_={class:"cart-info"},J={class:"info-wrap"},M={class:"info-item"},P=Object(a["createElementVNode"])("span",{class:"h5"},"數量",-1),Z={class:"h5"},R={class:"info-item"},X=Object(a["createElementVNode"])("span",{class:"h5"},"小計",-1),A={class:"h5"},G={class:"total-wrap"},K={class:"info-item"},Q=Object(a["createElementVNode"])("span",{class:"h5"},"總計",-1),W={class:"h5"},Y={class:"btn-wrap d-flex d-mb-none justify-content-end cus-mb-lg cus-mt-sm"},ee=Object(a["createElementVNode"])("span",null," 確認送出 ",-1),te=[ee];function ce(e,t,c,z,ee,ce){var ae=Object(a["resolveComponent"])("loading"),ne=Object(a["resolveComponent"])("ProgressBar");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(ae,{active:ee.isLoading},null,8,["active"]),Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(ne,{step:ee.step},null,8,["step"])]),Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",o,[i,Object(a["createElementVNode"])("div",d,[m,(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(ee.carts,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"cart-card",key:e.product.id},[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("img",{src:e.product.imageUrl,class:"img-fluid",alt:"商品圖片"},null,8,u)])]),Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("h5",null,Object(a["toDisplayString"])(e.product.title),1),Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("del",E,"NT$"+Object(a["toDisplayString"])(e.product.origin_price),1),Object(a["createElementVNode"])("span",null,"NT$"+Object(a["toDisplayString"])(e.product.price),1)]),Object(a["createElementVNode"])("div",N,[V,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.qty),1)])])])})),128))]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",null,[h,Object(a["createElementVNode"])("div",v,[f,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.info.payment),1)])])]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",null,[g,Object(a["createElementVNode"])("div",y,[w,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.info.dilevery),1)])]),Object(a["createElementVNode"])("div",null,[C,Object(a["createElementVNode"])("div",k,[S,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.info.user.address),1)])])]),Object(a["createElementVNode"])("div",null,[B,Object(a["createElementVNode"])("div",x,[D,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.info.user.name),1)]),Object(a["createElementVNode"])("div",$,[q,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.info.user.tel),1)]),Object(a["createElementVNode"])("div",I,[L,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(ee.info.user.email),1)])]),Object(a["createElementVNode"])("div",T,[Object(a["createElementVNode"])("button",{type:" button",class:"btn btn-primary--fill w-30",onClick:t[0]||(t[0]=function(){return ce.postOrder&&ce.postOrder.apply(ce,arguments)})},F)])]),Object(a["createElementVNode"])("div",H,[U,Object(a["createElementVNode"])("div",_,[Object(a["createElementVNode"])("div",J,[Object(a["createElementVNode"])("div",M,[P,Object(a["createElementVNode"])("span",Z,Object(a["toDisplayString"])(ee.cartNum),1)]),Object(a["createElementVNode"])("div",R,[X,Object(a["createElementVNode"])("span",A,Object(a["toDisplayString"])(ee.total),1)])]),Object(a["createElementVNode"])("div",G,[Object(a["createElementVNode"])("div",K,[Q,Object(a["createElementVNode"])("span",W,Object(a["toDisplayString"])(ee.total),1)])])]),Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("button",{type:" button",class:"btn btn-primary--fill w-30",onClick:t[1]||(t[1]=function(){return ce.postOrder&&ce.postOrder.apply(ce,arguments)})},te)])])])])])],64)}c("99af"),c("d3b7"),c("159b");var ae=c("6be2"),ne=c("bb30"),se=c("e915"),le=c("b6b4"),re={components:{cart:ne["a"],product:se["a"],ProgressBar:le["a"]},data:function(){return{isLoading:!0,total:0,cartNum:0,carts:[],cart:{},info:{user:{}},step:3}},methods:{getCart:function(){var e=this;this.cartNum=0,this.total=0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/cart")).then((function(t){e.carts=t.data.data.carts,e.carts.forEach((function(t){e.cartNum+=t.qty,e.total+=t.final_total}))}))},postOrder:function(){var e=this,t={user:{name:this.info.user.name,email:this.info.user.email,tel:this.info.user.tel,address:this.info.user.address},message:""};this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/order"),{data:t}).then((function(t){ae["a"].emit("get-cart"),window.localStorage.setItem("getCart",t.data.orderId),e.$router.push("/Carts/success")}))}},mounted:function(){var e=this;this.getCart(),ae["a"].on("send-info",(function(t){e.info=t}));var t=JSON.parse(window.localStorage.getItem("formResult"));this.info=t,setTimeout((function(){e.isLoading=!1}),1e3)}},oe=c("d959"),ie=c.n(oe);const de=ie()(re,[["render",ce]]);t["default"]=de},"7bf8":function(e,t,c){},b0c0:function(e,t,c){var a=c("83ab"),n=c("5e77").EXISTS,s=c("e330"),l=c("9bf2").f,r=Function.prototype,o=s(r.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=s(i.exec),m="name";a&&!n&&l(r,m,{configurable:!0,get:function(){try{return d(i,o(this))[1]}catch(e){return""}}})},b6b4:function(e,t,c){"use strict";var a=c("7a23"),n={class:"progress-wrap"},s={class:"progress-item"},l={width:"72",height:"38",viewBox:"0 0 72 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r={class:"progress-item"},o={width:"72",height:"38",viewBox:"0 0 72 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i={class:"progress-item"};function d(e,t,c,d,m,b){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["mb-0",{"color--text":1===c.step||2===c.step||3===c.step}])}," 1. 購物車 ",2),(Object(a["openBlock"])(),Object(a["createElementBlock"])("svg",l,[Object(a["createElementVNode"])("path",{class:Object(a["normalizeClass"])({"fill-text":1===c.step||2===c.step||3===c.step}),d:"M39.1 0.100098C43.6 5.3001 46 11.7001 46.2 18.1001H0V20.1001H46.2C46 26.5001 43.6 32.7001 39.1 38.0001C48.6 27.0001 62.3 19.1001 71.9 19.1001C62.3 19.0001 48.6 11.1001 39.1 0.100098Z"},null,2)]))]),Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["mb-0",{"color--text":2===c.step||3===c.step}])}," 2. 填寫資料 ",2),(Object(a["openBlock"])(),Object(a["createElementBlock"])("svg",o,[Object(a["createElementVNode"])("path",{class:Object(a["normalizeClass"])({"fill-text":2===c.step||3===c.step}),d:"M39.1 0.100098C43.6 5.3001 46 11.7001 46.2 18.1001H0V20.1001H46.2C46 26.5001 43.6 32.7001 39.1 38.0001C48.6 27.0001 62.3 19.1001 71.9 19.1001C62.3 19.0001 48.6 11.1001 39.1 0.100098Z"},null,2)]))]),Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["h4 mb-0",{"color--text":3===c.step}])}," 3. 確認訂單",2)])])}var m={props:["step"]},b=c("d959"),p=c.n(b);const u=p()(m,[["render",d]]);t["a"]=u},bb30:function(e,t,c){"use strict";var a=c("7a23"),n=c("1d1b"),s=c.n(n),l={class:"img-outer me-3"},r={class:"img-wrap"},o=["src","alt"],i={class:"txt-wrap me-3"},d={class:"price-wrap mb-3"},m={class:"me-2"},b={class:"num-select-wrap mb-3"},p=Object(a["createElementVNode"])("span",{class:"me-3"},"數量",-1),u={class:"num-select"},O=["onUpdate:modelValue","onChange"],j=["value"],E=["onClick"],N=Object(a["createElementVNode"])("img",{src:s.a,alt:"關閉"},null,-1),V=[N];function h(e,t,c,n,s,N){return Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(s.carts,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"cart-card",key:e.product.id},[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("img",{src:e.product.imageUrl,class:"img-fluid",alt:"商品圖片-".concat(t)},null,8,o)])]),Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("h5",null,Object(a["toDisplayString"])(e.product.title),1),Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("del",m,"NT$"+Object(a["toDisplayString"])(e.product.origin_price),1),Object(a["createElementVNode"])("span",null,"NT$"+Object(a["toDisplayString"])(e.product.price),1)]),Object(a["createElementVNode"])("div",b,[p,Object(a["createElementVNode"])("div",u,[Object(a["withDirectives"])(Object(a["createElementVNode"])("select",{name:"",id:"","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return N.updateCart(e.id,e.qty)}},[(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(20,(function(e){return Object(a["createElementVNode"])("option",{value:e,key:e},Object(a["toDisplayString"])(e),9,j)})),64))],40,O),[[a["vModelSelect"],e.qty]])])])]),Object(a["createElementVNode"])("button",{type:"button",class:"btn delete",onClick:function(t){return N.delCartItem(e.id)}},V,8,E)])})),128)}c("99af");var v=c("6be2"),f={props:["carts-items"],emits:["update-qty","update-item"],data:function(){return{carts:[],cart:{}}},methods:{getCart:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/cart")).then((function(t){e.carts=e.cartsItems,e.carts=t.data.data.carts}))},delCartItem:function(e){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/cart/").concat(e)).then((function(){t.getCart(),t.$emit("update-item"),v["a"].emit("delete-cart")}))},updateCart:function(e,t){var c=this;this.cart={product_id:e,qty:t},this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("himiapi","/cart/").concat(e),{data:this.cart}).then((function(){c.$emit("update-qty")}))}},mounted:function(){var e=this;this.getCart(),v["a"].on("get-cart",(function(){e.getCart()})),v["a"].on("add-cart",(function(t){e.carts=t,e.getCart()}))}},g=(c("6160"),c("d959")),y=c.n(g);const w=y()(f,[["render",h]]);t["a"]=w}}]);
//# sourceMappingURL=chunk-24ec7fba.35dbf3fd.js.map